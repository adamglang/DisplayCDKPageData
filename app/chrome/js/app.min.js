(function(){function f(o,i,u){function c(n,e){if(!i[n]){if(!o[n]){var r="function"==typeof require&&require;if(!e&&r)return r(n,!0);if(s)return s(n,!0);var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}var a=i[n]={exports:{}};o[n][0].call(a.exports,function(e){var r=o[n][1][e];return c(r||e)},a,a.exports,f,o,i,u)}return i[n].exports}for(var s="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}return f})()({1:[function(e,r,n){"use strict";function p(e,r){return Object.prototype.hasOwnProperty.call(e,r)}r.exports=function(e,r,n,t){r=r||"&";n=n||"=";var a={};if(typeof e!=="string"||e.length===0){return a}var o=/\+/g;e=e.split(r);var i=1e3;if(t&&typeof t.maxKeys==="number"){i=t.maxKeys}var u=e.length;if(i>0&&u>i){u=i}for(var c=0;c<u;++c){var s=e[c].replace(o,"%20"),f=s.indexOf(n),l,d,y,v;if(f>=0){l=s.substr(0,f);d=s.substr(f+1)}else{l=s;d=""}y=decodeURIComponent(l);v=decodeURIComponent(d);if(!p(a,y)){a[y]=v}else if(h(a[y])){a[y].push(v)}else{a[y]=[a[y],v]}}return a};var h=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}},{}],2:[function(e,r,n){"use strict";var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};r.exports=function(n,t,a,e){t=t||"&";a=a||"=";if(n===null){n=undefined}if(typeof n==="object"){return u(c(n),function(e){var r=encodeURIComponent(o(e))+a;if(i(n[e])){return u(n[e],function(e){return r+encodeURIComponent(o(e))}).join(t)}else{return r+encodeURIComponent(o(n[e]))}}).join(t)}if(!e)return"";return encodeURIComponent(o(e))+a+encodeURIComponent(o(n))};var i=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function u(e,r){if(e.map)return e.map(r);var n=[];for(var t=0;t<e.length;t++){n.push(r(e[t],t))}return n}var c=Object.keys||function(e){var r=[];for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))r.push(n)}return r}},{}],3:[function(e,r,n){"use strict";n.decode=n.parse=e("./decode");n.encode=n.stringify=e("./encode")},{"./decode":1,"./encode":2}],4:[function(e,r,n){"use strict";var t=e("./hydraLinkGenerator");var a=e("./hydraLinkProcessor");var o=e("./renderView");(function(){return t.hydraLinkGenerator.getUrl().then(function(e){return t.hydraLinkGenerator.generate(e)}).then(function(e){return a.hydraLinkProcessor.process(e)}).then(function(e){return o.renderView.render(e)}).catch(function(e){console.log(e);o.renderView.error(e)})})()},{"./hydraLinkGenerator":5,"./hydraLinkProcessor":6,"./renderView":7}],5:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=function(){function t(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||false;t.configurable=true;if("value"in t)t.writable=true;Object.defineProperty(e,t.key,t)}}return function(e,r,n){if(r)t(e.prototype,r);if(n)t(e,n);return e}}();function a(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}var o=function(){function e(){a(this,e)}t(e,[{key:"generate",value:function e(r){var n=this;return this.sendRequest(r).then(function(e){return n.getHref(e)}).catch(function(e){console.log(e);throw new Error(e)})}},{key:"sendRequest",value:function e(t){return new Promise(function(e,r){if(!window.XMLHttpRequest){throw new Error("This browser does not support XMLHttpRequest")}var n=new XMLHttpRequest;n.open("GET",t);n.onload=function(){return e(n.responseText)};n.onerror=function(){return r("AJAX call failed with error "+n.status+": "+n.statusText)};n.send()})}},{key:"getUrl",value:function e(){return new Promise(function(r,n){return chrome.tabs.query({active:true,lastFocusedWindow:true},function(e){if(e[0].url&&e[0].url.indexOf("?")>-1){return r(e[0].url+"&debug")}else if(e[0].url){return r(e[0].url+"?debug")}else{return n("chrome api did not find a tab")}})})}},{key:"getHref",value:function e(r){var n=document.createElement("html");n.innerHTML=r;return n.querySelector("a").href}}]);return e}();var i=n.hydraLinkGenerator=new o},{}],6:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.hydraLinkProcessor=undefined;var t=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var a=function(){function t(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||false;t.configurable=true;if("value"in t)t.writable=true;Object.defineProperty(e,t.key,t)}}return function(e,r,n){if(r)t(e.prototype,r);if(n)t(e,n);return e}}();var o=e("querystring");var y=i(o);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}var c=function(){function e(){u(this,e)}a(e,[{key:"process",value:function e(r){return{hydraLink:r,harLink:this.harLink(r),localLink:this.localLink(r),layerLink:this.layerLink(r),paramsData:this.parseHydraLink(r)}}},{key:"localLink",value:function e(r){var n=r.indexOf("/route/");var t=r.substring(n);return"localhost:8082"+t}},{key:"layerLink",value:function e(r){return r.replace("base-view/consumer","base-layer/page")}},{key:"harLink",value:function e(r){return r.replace("base-view/consumer?","base-view/consumer?har&")}},{key:"parseHydraLink",value:function e(r){var n=decodeURIComponent(r);var t=n.substr(n.indexOf(this.getSearchString(r)));var a=this.sanitizePayload(t);var o=y.default.parse(a);var i={};var u=true;var c=false;var s=undefined;try{for(var f=Object.keys(o)[Symbol.iterator](),l;!(u=(l=f.next()).done);u=true){var d=l.value;i[d]=this.catchMalformedJSONParse(o[d])}}catch(e){c=true;s=e}finally{try{if(!u&&f.return){f.return()}}finally{if(c){throw s}}}return i}},{key:"sanitizePayload",value:function e(r){var n=["debug=","&pageName="];var t=true;var a=false;var o=undefined;try{for(var i=n[Symbol.iterator](),u;!(t=(u=i.next()).done);t=true){var c=u.value;r=r.replace(c,"")}}catch(e){a=true;o=e}finally{try{if(!t&&i.return){i.return()}}finally{if(a){throw o}}}return r}},{key:"catchMalformedJSONParse",value:function e(r){var n=typeof r==="undefined"?"undefined":t(r);if(n==="object"){return r}if(n!=="object"&&n!=="string"){return"This data has the invalid type: "+n}try{JSON.parse(r)}catch(e){return r}return JSON.parse(r)}},{key:"getSearchString",value:function e(r){return r.indexOf("?search")>-1?"?search":"&search"}},{key:"isObjectEmpty",value:function e(r){return Object.keys(r).length===0&&r.constructor===Object}}]);return e}();var s=n.hydraLinkProcessor=new c},{querystring:3}],7:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=function(){function t(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||false;t.configurable=true;if("value"in t)t.writable=true;Object.defineProperty(e,t.key,t)}}return function(e,r,n){if(r)t(e.prototype,r);if(n)t(e,n);return e}}();function a(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}var o=document.getElementById("mountPoint");var i=function(){function e(){a(this,e)}t(e,[{key:"render",value:function e(r){o.innerHTML=this.template(r)}},{key:"template",value:function e(r){var n=JSON.stringify(r.paramsData,null,4);return'\n            <section id="renderedData">\n                <h3>Here are some useful dev workflow links:</h3>\n                <div id="hydraLinks">\n                    <a href="'+r.hydraLink+'" target="_blank">Direct Hydra Link</a>\n                    <a href="'+r.harLink+'" target="_blank">HAR Data Link</a>\n                    <a href="'+r.layerLink+'" target="_blank">Data Layer Link</a>\n                    <a href="'+r.localLink+'" target="_blank">Local Context Link</a>\n                </div>\n                <div id="pageData">\n                    <h3>Here are the params data I was able to get from this page:</h3>\n                    <hr />\n                    <pre>ParamsData: '+n+"</pre>\n                </div>\n            </section>\n        "}},{key:"error",value:function e(r){o.innerHTML=this.errorTemplate(r)}},{key:"errorTemplate",value:function e(r){return'\n            <section id="errorData">\n                <div> \n                    <div>OOPS! ¯\\_(ツ)_/¯ Something went wrong and I got: </div>\n                    <br/>\n                    <div id="actualError">'+r+"</div>\n                    <br/>\n                </div>\n               \n               <div>Common reasons for errors:</div>\n                <ol>\n                    <li>Is this a CDK page? If not this is probably a cross origin access issue</li>\n                    <li>Are you in local context?</li>\n                    <li>Are you in direct hydra context?</li>\n                </ol>\n                \n                <div>If this doesnt solve please consider reporting this error at: https://github.com/adamglang/DisplayCDKPageData</div>\n            </section>\n        "}}]);return e}();var u=n.renderView=new i},{}]},{},[4]);