(function e(r,n,t){function o(u,i){if(!n[u]){if(!r[u]){var c=typeof require=="function"&&require;if(!i&&c)return c(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var s=n[u]={exports:{}};r[u][0].call(s.exports,function(e){var n=r[u][1][e];return o(n?n:e)},s,s.exports,e,r,n,t)}return n[u].exports}var a=typeof require=="function"&&require;for(var u=0;u<t.length;u++)o(t[u]);return o})({1:[function(e,r,n){"use strict";function t(e,r){return Object.prototype.hasOwnProperty.call(e,r)}r.exports=function(e,r,n,a){r=r||"&";n=n||"=";var u={};if(typeof e!=="string"||e.length===0){return u}var i=/\+/g;e=e.split(r);var c=1e3;if(a&&typeof a.maxKeys==="number"){c=a.maxKeys}var f=e.length;if(c>0&&f>c){f=c}for(var s=0;s<f;++s){var l=e[s].replace(i,"%20"),d=l.indexOf(n),v,y,p,h;if(d>=0){v=l.substr(0,d);y=l.substr(d+1)}else{v=l;y=""}p=decodeURIComponent(v);h=decodeURIComponent(y);if(!t(u,p)){u[p]=h}else if(o(u[p])){u[p].push(h)}else{u[p]=[u[p],h]}}return u};var o=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}},{}],2:[function(e,r,n){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};r.exports=function(e,r,n,i){r=r||"&";n=n||"=";if(e===null){e=undefined}if(typeof e==="object"){return a(u(e),function(u){var i=encodeURIComponent(t(u))+n;if(o(e[u])){return a(e[u],function(e){return i+encodeURIComponent(t(e))}).join(r)}else{return i+encodeURIComponent(t(e[u]))}}).join(r)}if(!i)return"";return encodeURIComponent(t(i))+n+encodeURIComponent(t(e))};var o=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function a(e,r){if(e.map)return e.map(r);var n=[];for(var t=0;t<e.length;t++){n.push(r(e[t],t))}return n}var u=Object.keys||function(e){var r=[];for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))r.push(n)}return r}},{}],3:[function(e,r,n){"use strict";n.decode=n.parse=e("./decode");n.encode=n.stringify=e("./encode")},{"./decode":1,"./encode":2}],4:[function(e,r,n){"use strict";var t=e("./hydraLinkGenerator");var o=e("./hydraLinkProcessor");(function(){return t.hydraLinkGenerator.getUrl().then(function(e){return t.hydraLinkGenerator.generate(e).then(function(e){return console.log(o.hydraLinkProcessor.process(e))}).catch(function(e){return console.log(e)})})})()},{"./hydraLinkGenerator":5,"./hydraLinkProcessor":6}],5:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var t=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||false;t.configurable=true;if("value"in t)t.writable=true;Object.defineProperty(e,t.key,t)}}return function(r,n,t){if(n)e(r.prototype,n);if(t)e(r,t);return r}}();function o(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(){o(this,e)}t(e,[{key:"generate",value:function e(r){var n=this;return this.sendRequest(r).then(function(e){return n.getHref(e)}).catch(function(e){console.log(e);throw new Error(e)})}},{key:"sendRequest",value:function e(r){return new Promise(function(e,n){if(!window.XMLHttpRequest){throw new Error("This browser does not support XMLHttpRequest")}var t=new XMLHttpRequest;t.open("GET",r);t.onload=function(){return e(t.responseText)};t.onerror=function(){return n("AJAX call failed with error "+t.status+": "+t.statusText)};t.send()})}},{key:"getUrl",value:function e(){return new Promise(function(e,r){return chrome.tabs.query({active:true,lastFocusedWindow:true},function(n){return n[0].url?e(n[0].url+"?debug"):r("chrome api did not find a tab")})})}},{key:"getHref",value:function e(r){var n=document.createElement("html");n.innerHTML=r;return n.querySelector("a").href}}]);return e}();var u=n.hydraLinkGenerator=new a},{}],6:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.hydraLinkProcessor=undefined;var t=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||false;t.configurable=true;if("value"in t)t.writable=true;Object.defineProperty(e,t.key,t)}}return function(r,n,t){if(n)e(r.prototype,n);if(t)e(r,t);return r}}();var o=e("querystring");var a=u(o);function u(e){return e&&e.__esModule?e:{default:e}}function i(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}var c=function(){function e(){i(this,e)}t(e,[{key:"process",value:function e(r){return{hydraLink:r,localLink:this.localLink(r),data:this.parseHydraLink(r)}}},{key:"localLink",value:function e(r){var n=r.indexOf("/route/");var t=r.substring(n);return"localhost:8082"+t}},{key:"parseHydraLink",value:function e(r){var n=decodeURIComponent(r);var t=n.substr(n.indexOf("?search=")).replace("debug=&pageName=","");var o=this.sanitizePayload(t);var u=a.default.parse(o);var i={};var c=true;var f=false;var s=undefined;try{for(var l=Object.keys(u)[Symbol.iterator](),d;!(c=(d=l.next()).done);c=true){var v=d.value;i[v]=this.catchMalformedJSONParse(u[v])}}catch(e){f=true;s=e}finally{try{if(!c&&l.return){l.return()}}finally{if(f){throw s}}}return i}},{key:"sanitizePayload",value:function e(r){var n=["debug=&pageName="];var t=true;var o=false;var a=undefined;try{for(var u=n[Symbol.iterator](),i;!(t=(i=u.next()).done);t=true){var c=i.value;r=r.replace(c,"")}}catch(e){o=true;a=e}finally{try{if(!t&&u.return){u.return()}}finally{if(o){throw a}}}return r}},{key:"catchMalformedJSONParse",value:function e(r){try{JSON.parse(r)}catch(e){return r}return JSON.parse(r)}}]);return e}();var f=n.hydraLinkProcessor=new c},{querystring:3}]},{},[4]);